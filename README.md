### Документация по запуску и использованию проекта через Docker Compose

Этот документ описывает процесс настройки и запуска проекта с помощью `docker-compose`. Проект включает следующие компоненты: PostgreSQL, Redis, Django, FastAPI и бота.

#### Файловая структура

1. `docker-compose.yml` - основной файл конфигурации Docker Compose.
2. `./django` - директория с кодом Django проекта.
3. `./fastapi` - директория с кодом FastAPI проекта.
4. `./bot` - директория с кодом бота.

#### Запуск проекта

1. **Убедитесь, что у вас установлен Docker и Docker Compose.**
   - Для установки Docker следуйте инструкциям на официальном сайте [Docker](https://docs.docker.com/get-docker/).
   - Для установки Docker Compose следуйте инструкциям на официальном сайте [Docker Compose](https://docs.docker.com/compose/install/).

2. **Перейдите в директорию с файлом `docker-compose.yml`.**

3. **Запустите команду для сборки и запуска контейнеров:**

   ```bash
   docker-compose up --build
   ```

   Эта команда:
   - Соберет образы для Django, FastAPI и бота.
   - Запустит контейнеры для PostgreSQL, Redis, Django, FastAPI и бота.
   - Применит миграции и запустит сервер Django на порту 8000.
   - Запустит сервер FastAPI на порту 8001.
   - Запустит бота.

4. **Для остановки контейнеров и удаления созданных ресурсов используйте:**

   ```bash
   docker-compose down
   ```

#### Использование

- **Django API:** Доступен по адресу [http://localhost:8000](http://localhost:8000). Для доступа к административной панели используйте URL [http://localhost:8000/admin](http://localhost:8000/admin) и логин `admin` с паролем `adminpassword`.

- **FastAPI API:** Доступен по адресу [http://localhost:8001](http://localhost:8001).

- **PostgreSQL:** База данных доступна по адресу `postgres://database_user:password@localhost:5432/database_name`. Вы можете использовать эту информацию для подключения к базе данных из других приложений или инструментов.

- **Redis:** Доступен на стандартном порту 6379. Не требуется дополнительная конфигурация для стандартных операций.

- **Бот:** В зависимости от реализации бота, он может иметь следующие функциональности:
  - **Регистрация пользователя:** Команда `/register` инициирует диалог для ввода имени пользователя, пароля и email. После регистрации пользователь получает JWT токены, которые используются для авторизации.
  - **Просмотр задач:** Команда `/tasks` выводит список задач пользователя.
  - **Добавление задачи:** Команда `/add_task` запускает диалог для ввода данных задачи, таких как название, описание и категория.
  - **Добавление комментария:** Команда `/add_comment` запускает диалог для добавления комментария к задаче.
  - **Просмотр комментариев:** Команда `/comments` позволяет просматривать комментарии к задаче по её ID.

#### Дополнительные советы

- **Просмотр логов контейнеров:**

  ```bash
  docker-compose logs
  ```

- **Запуск контейнеров в фоновом режиме:**

  ```bash
  docker-compose up -d
  ```

- **Остановка контейнеров:**

  ```bash
  docker-compose stop
  ```

#### Замечание по токену Telegram

Для работы бота вам потребуется Telegram Bot API токен. Не забудьте заменить переменную `API_TOKEN` в коде бота на ваш действующий токен. Вы можете получить токен, создав нового бота через [BotFather](https://t.me/botfather) в Telegram. 

---
